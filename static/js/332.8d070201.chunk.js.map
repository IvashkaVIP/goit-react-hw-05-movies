{"version":3,"file":"static/js/332.8d070201.chunk.js","mappings":"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","sources":["apiService/Api.js","webpack://react-homework-template/./src/components/MovesListItem/MoviesListItem.module.css?4329","components/MovesListItem/MovesListItem.js","components/MoviesList/MoviesList.js","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.js","pages/movies/movies.js"],"sourcesContent":["import axios from 'axios';\n\nexport const API_KEY = '9d709850c7590845ffb60644b29d6f51';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst TRENDING_END_POINT = 'trending/all/';\nconst SEARCH_END_POINT = 'search/movie';\n\n// https://api.themoviedb.org/3/trending/all/{time_window}\n export async function getMoviesTrending() {\n  return await axios(`${BASE_URL}${TRENDING_END_POINT}day?api_key=${API_KEY}`);\n}\n\n// https://api.themoviedb.org/3/search/movie\n export async function getMoviesByQuery(query) {\n  return await axios(\n    `${BASE_URL}${SEARCH_END_POINT}?api_key=${API_KEY}&query=${query}`\n  );\n}\n\n// https://api.themoviedb.org/3/movie/{movie_id}\nexport async function getMoviesDetails (id) {\n  return await axios(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}`\n  );\n}\n\n//https://api.themoviedb.org/3/movie/{movie_id}/credits\nexport async function getMoviesCast(id) {\n  return await axios(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`);\n}\n\n//https://api.themoviedb.org/3/movie/{movie_id}/reviews\nexport async function getMoviesReviews(id) {\n  return await axios(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`);\n}","// extracted by mini-css-extract-plugin\nexport default {\"wrap-link\":\"MoviesListItem_wrap-link__UqwH6\"};","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport css from './MoviesListItem.module.css'\n\nconst MoviesListItem = ({ title, name, id }) => {\n  const location = useLocation();\n  const currentPage = location.pathname === '/' ? 'movies' : location.pathname;\n  return (\n    <li>\n      <Link\n        className={css['wrap-link']}\n        to={`${currentPage}/${id}`}\n        state={{ from: location }}\n      >\n        {title ?? name}\n      </Link>\n    </li>\n  );\n};\n\nexport default MoviesListItem;\n\nMoviesListItem.propTypes = {\n  title: PropTypes.string,\n  name: PropTypes.string,\n  id: PropTypes.number.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport MoviesListItem from 'components/MovesListItem/MovesListItem';\n\nconst MoviesList = ({ movies }) => (\n  <ul>\n    {movies.map(movie => (\n      <MoviesListItem\n        key={movie.id}\n        title={movie.title}\n        name={movie.name}\n        id={movie.id}\n      />\n    ))}\n  </ul>\n);\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.array,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"btn-search\":\"SearchForm_btn-search__RNESS\",\"input\":\"SearchForm_input__HOxJo\"};","import PropTypes from 'prop-types';\nimport css from './SearchForm.module.css'\n\nconst SearchForm = ({\n  handleSearch,\n  searchValue,\n  setSearchParams,\n  firstRender,\n}) => {\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    handleSearch(searchValue);\n  };\n  const handleChange = ({ target: { value } }) => {\n    setSearchParams({ search: value });\n    firstRender.current = false;\n  };\n\n  return (\n    <form className={css['form']} onSubmit={handleSubmit}>\n      <input\n        className={css['input']}\n        type=\"text\"\n        value={searchValue}\n        onChange={handleChange}\n      />\n      <button className={css['btn-search']} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  movie: PropTypes.object,\n  handleSearch: PropTypes.func,\n  searchValue: PropTypes.string,\n  setSearchParams: PropTypes.func,\n  firstRender: PropTypes.object,\n};\n","import { useEffect, useState, useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMoviesByQuery } from 'apiService/Api';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchValue = searchParams.get('search') ?? '';\n  const firstRender = useRef(true);\n\n  useEffect(() => {\n    firstRender.current && searchValue && handleSearch(searchValue);\n  }, [searchValue]);\n\n  useEffect(() => {\n    !searchValue && setSearchParams({});\n  }, [searchValue, setSearchParams]);\n\n  const handleSearch = async query => {\n    try {\n      const resp = await getMoviesByQuery(query);\n      setMovies(resp.data.results);\n      } catch (er) {\n      console.log(er);\n    }\n  };\n  return (\n    <div>\n      <SearchForm\n        handleSearch={handleSearch}\n        searchValue={searchValue}\n        setSearchParams={setSearchParams}\n        firstRender={firstRender}\n      />\n      {movies && <MoviesList movies={movies} />}\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","BASE_URL","TRENDING_END_POINT","SEARCH_END_POINT","getMoviesTrending","axios","getMoviesByQuery","query","getMoviesDetails","id","getMoviesCast","getMoviesReviews","title","name","location","useLocation","currentPage","pathname","className","css","to","state","from","movies","map","movie","handleSearch","searchValue","setSearchParams","firstRender","onSubmit","evt","preventDefault","type","value","onChange","target","search","current","useState","setMovies","useSearchParams","searchParams","get","useRef","useEffect","resp","data","results","console","log","MoviesList"],"sourceRoot":""}